
> linkedin-engagement-assistant@0.0.0 build:test
> tsc && vite build --mode test && vite build --config vite.config.content.js --mode test

vite v5.4.19 building for test...
transforming...
âœ“ 6 modules transformed.
rendering chunks...
computing gzip size...
dist/background.js  167.48 kB â”‚ gzip: 44.66 kB â”‚ map: 89.94 kB
âœ“ built in 71ms
vite v5.4.19 building for test...
transforming...
âœ“ 21 modules transformed.
rendering chunks...
computing gzip size...
dist/content.js  274.76 kB â”‚ gzip: 79.10 kB â”‚ map: 141.54 kB
âœ“ built in 135ms

> linkedin-engagement-assistant@0.0.0 test
> playwright test


Running 8 tests using 6 workers

  âœ“  4 tests/e2e/setup.spec.ts:4:3 â€º Extension E2E Setup â€º should load the extension and inject the content script on linkedin.com (5.7s)
  âœ“  1 tests/e2e/real-time-ui.spec.ts:27:3 â€º Real-time UI Updates â€º should update Live Counters on STATE_UPDATE event (6.8s)
  âœ“  3 tests/e2e/pipeline-controls.spec.ts:114:3 â€º Pipeline Control E2E Tests â€º should successfully control pipeline lifecycle: start, stop, and resume (6.9s)

--- PAGE & CONTENT SCRIPT LOGS ON FAILURE ---
No logs captured from page.
-------------------------------------------------

--- BACKGROUND SERVICE WORKER LOGS ON FAILURE ---
[2025-09-05T00:12:25.760Z] [BG_INFO] "[INFO] Logger initialized." ""
[2025-09-05T00:12:25.761Z] [BG_INFO] "[INFO] LinkedIn Engagement Assistant Service Worker loaded." ""
[2025-09-05T00:12:25.762Z] [BG_INFO] "[INFO] PipelineManager initialized." ""
[2025-09-05T00:12:25.763Z] [BG_LOG] "[BACKGROUND SCRIPT] E2E test hooks installed."
[2025-09-05T00:12:25.858Z] [BG_LOG] "No AI config found in storage. Saving and loading defaults."
[2025-09-05T00:12:25.858Z] [BG_LOG] "Loaded 0 post states into memory."
[2025-09-05T00:12:25.858Z] [BG_INFO] "[INFO] All post states loaded into memory." ""
--------------------------------------------------
  âœ˜  7 tests/e2e/real-time-ui.spec.ts:49:3 â€º Real-time UI Updates â€º should update Pipeline Progress on STATE_UPDATE event (1.1s)
  âœ“  2 tests/e2e/settings-persistence.spec.ts:4:3 â€º AI Settings Persistence â€º should save settings, reload, and verify they are persisted (8.1s)
  âœ“  5 tests/e2e/ui-injection.spec.ts:4:3 â€º Extension UI Injection and Initial State â€º should inject the sidebar with default components on a LinkedIn post page (8.3s)
  âœ“  6 tests/e2e/error-handling.spec.ts:77:3 â€º Error Handling E2E Tests â€º should display FAILED status and error log when AI call fails (9.7s)
  âœ“  8 tests/e2e/real-time-ui.spec.ts:90:3 â€º Real-time UI Updates â€º should add new entry to Logs Panel on LOG_ENTRY event (3.4s)


  1) tests/e2e/real-time-ui.spec.ts:49:3 â€º Real-time UI Updates â€º should update Pipeline Progress on STATE_UPDATE event 

    Error: page.goto: net::ERR_HTTP_RESPONSE_CODE_FAILURE at https://www.linkedin.com/feed/update/urn:li:activity:7368619407989760000/
    Call log:
    [2m  - navigating to "https://www.linkedin.com/feed/update/urn:li:activity:7368619407989760000/", waiting until "domcontentloaded"[22m


      17 |
      18 |   test.beforeEach(async ({ page }) => {
    > 19 |     await page.goto(postUrl, { waitUntil: 'domcontentloaded' });
         |                ^
      20 |     // Wait for the sidebar root element to be injected into the DOM
      21 |     await page.waitForSelector('#linkedin-engagement-assistant-root', { timeout: 30000 });
      22 |     // Wait for the Preact app container inside the shadow root to be visible and ready.
        at /Users/bahy/Documents/playground/capstone_project/server/projects/linkedin_life_saver/project/tests/e2e/real-time-ui.spec.ts:19:16

  1 failed
    tests/e2e/real-time-ui.spec.ts:49:3 â€º Real-time UI Updates â€º should update Pipeline Progress on STATE_UPDATE event 
  7 passed (12.1s)
